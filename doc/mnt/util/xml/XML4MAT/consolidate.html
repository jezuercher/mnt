<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of consolidate</title>
  <meta name="keywords" content="consolidate">
  <meta name="description" content="CONSOLIDATE field names in nested cell arrays produced by xml2mat of mbmling results">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html v1.5 &copy; 2003-2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../../../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../../../../index.html">Home</a> &gt;  <a href="#">mnt</a> &gt; <a href="../../index.html">util</a> &gt; <a href="../index.html">xml</a> &gt; <a href="index.html">XML4MAT</a> &gt; consolidate.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../../../../index.html"><img alt="<" border="0" src="../../../../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for mnt/util/xml/XML4MAT&nbsp;<img alt=">" border="0" src="../../../../right.png"></a></td></tr></table>-->

<h1>consolidate
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="box"><strong>CONSOLIDATE field names in nested cell arrays produced by xml2mat of mbmling results</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="box"><strong>function y=consolidate(x) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="fragment"><pre class="comment">CONSOLIDATE field names in nested cell arrays produced by xml2mat of mbmling results

Syntax: y=consolidate(x)

Description:
 the nested cell arrays produced by XML2CELL emcapsulate the individual
 data structures. CONSOLIDATE will remove the cell encapsulation,
 returning the nested structure. CONSOLIDATEALL will apply CONSOLIDATE to
 all the cells in the array.

 See also <a href="consolidateall.html" class="code" title="function y=consolidateall(x)">CONSOLIDATEALL</a>

 Jonas Almeida, almeidaj@musc.edu, 20 May 2003, MAT4NAT Tbox</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../../../matlabicon.gif)">
</ul>
This function is called by:
<ul style="list-style-image:url(../../../../matlabicon.gif)">
<li><a href="consolidateall.html" class="code" title="function y=consolidateall(x)">consolidateall</a>	CONSOLIDATEALL applies consolidate to all the cells of a nested cell arrays</li></ul>
<!-- crossreference -->



<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function y=consolidate(x)</a>
0002 
0003 <span class="comment">%CONSOLIDATE field names in nested cell arrays produced by xml2mat of mbmling results</span>
0004 <span class="comment">%</span>
0005 <span class="comment">%Syntax: y=consolidate(x)</span>
0006 <span class="comment">%</span>
0007 <span class="comment">%Description:</span>
0008 <span class="comment">% the nested cell arrays produced by XML2CELL emcapsulate the individual</span>
0009 <span class="comment">% data structures. CONSOLIDATE will remove the cell encapsulation,</span>
0010 <span class="comment">% returning the nested structure. CONSOLIDATEALL will apply CONSOLIDATE to</span>
0011 <span class="comment">% all the cells in the array.</span>
0012 <span class="comment">%</span>
0013 <span class="comment">% See also CONSOLIDATEALL</span>
0014 <span class="comment">%</span>
0015 <span class="comment">% Jonas Almeida, almeidaj@musc.edu, 20 May 2003, MAT4NAT Tbox</span>
0016 
0017 <span class="keyword">if</span> strcmp(class(x),<span class="string">'cell'</span>)
0018     <span class="keyword">if</span> strcmp(class(x{1}),<span class="string">'struct'</span>)
0019         n=length(x);
0020         <span class="keyword">for</span> i=1:n
0021             f(i)=fieldnames(x{i});
0022             I=strmatch(f(i),f(1:i-1));
0023             <span class="keyword">if</span> ~isempty(I);
0024                 j=I(1);
0025                 <span class="comment">%eval(['y.',f{j},'=consolidate(x{i}.',f{j},');'])</span>
0026                 eval([<span class="string">'y.'</span>,f{j},<span class="string">'{end+1}=consolidate(x{i}.'</span>,f{j},<span class="string">');'</span>])
0027             <span class="keyword">else</span>
0028                 j=i;
0029                 <span class="comment">%eval(['y.',f{j},'=consolidate(x{i}.',f{j},');'])</span>
0030                 eval([<span class="string">'y.'</span>,f{j},<span class="string">'{1}=consolidate(x{i}.'</span>,f{j},<span class="string">');'</span>])
0031             <span class="keyword">end</span>
0032         <span class="keyword">end</span>
0033     <span class="keyword">else</span>
0034         y=x;
0035     <span class="keyword">end</span>
0036 <span class="keyword">else</span>
0037     y=x;
0038 <span class="keyword">end</span></pre></div>
<hr><address>Generated on Fri 05-Apr-2013 15:19:47 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" title="Matlab Documentation in HTML">m2html</a></strong> &copy; 2005</address>
</body>
</html>