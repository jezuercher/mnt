<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of xmldemo1</title>
  <meta name="keywords" content="xmldemo1">
  <meta name="description" content="XMLDEMO1 Demonstrate how to create an XML tree and save it">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html v1.5 &copy; 2003-2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../../../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../../../../index.html">Home</a> &gt;  <a href="#">mnt</a> &gt; <a href="../../index.html">util</a> &gt; <a href="../index.html">xml</a> &gt; <a href="index.html">xmltree</a> &gt; xmldemo1.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../../../../index.html"><img alt="<" border="0" src="../../../../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for mnt/util/xml/xmltree&nbsp;<img alt=">" border="0" src="../../../../right.png"></a></td></tr></table>-->

<h1>xmldemo1
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="box"><strong>XMLDEMO1 Demonstrate how to create an XML tree and save it</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="box"><strong>This is a script file. </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="fragment"><pre class="comment">XMLDEMO1 Demonstrate how to create an XML tree and save it

   Description
   This script demonstrates the use of the xmltree class to
   create an XML tree from scratch and save it in a file.</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../../../matlabicon.gif)">
</ul>
This function is called by:
<ul style="list-style-image:url(../../../../matlabicon.gif)">
</ul>
<!-- crossreference -->



<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../../../up.png"></a></h2>
<div class="fragment"><pre>0001 <span class="comment">%XMLDEMO1 Demonstrate how to create an XML tree and save it</span>
0002 <span class="comment">%</span>
0003 <span class="comment">%   Description</span>
0004 <span class="comment">%   This script demonstrates the use of the xmltree class to</span>
0005 <span class="comment">%   create an XML tree from scratch and save it in a file.</span>
0006 
0007 <span class="comment">%   Copyright (C) 2003  Guillaume Flandin</span>
0008 
0009 <span class="comment">%   Please note that this script is only a demonstration of how</span>
0010 <span class="comment">%   to use xmltree, set, add, view and save methods.</span>
0011 <span class="comment">%   Indeed in this example, the use of the struct2xml function</span>
0012 <span class="comment">%   would have been much more efficient:</span>
0013 <span class="comment">%     entry = struct(...); % cf line 51</span>
0014 <span class="comment">%     addressBook = struct('entry',entry);</span>
0015 <span class="comment">%     tree = struct2xml(addressBook);</span>
0016 
0017 clc;
0018 disp(<span class="string">'This demonstration illustrates the use of the xmltree class.'</span>)
0019 disp(<span class="string">' '</span>)
0020 disp(<span class="string">'Let''s build an address book in XML.'</span>)
0021 disp(<span class="string">' '</span>)
0022 disp(<span class="string">'Press any key to create an empty tree.'</span>)
0023 disp(<span class="string">' '</span>)
0024 pause;
0025 
0026 disp(<span class="string">'&gt;&gt; tree = xmltree;'</span>);
0027 tree = xmltree;
0028 
0029 <span class="comment">% Modify the root element</span>
0030 disp(<span class="string">' '</span>)
0031 disp(<span class="string">'Modify the root element.'</span>)
0032 disp(<span class="string">' '</span>)
0033 disp(<span class="string">'Press any key to continue.'</span>)
0034 disp(<span class="string">' '</span>)
0035 pause;
0036 
0037 disp(<span class="string">'&gt;&gt; tree = set(tree,root(tree),''name'',''addressBook'');'</span>);
0038 tree = set(tree,root(tree),<span class="string">'name'</span>,<span class="string">'addressBook'</span>);
0039 
0040 <span class="comment">% Create a new entry in the address book</span>
0041 disp(<span class="string">' '</span>)
0042 disp(<span class="string">'Create a new entry.'</span>)
0043 disp(<span class="string">' '</span>)
0044 disp(<span class="string">'Press any key to continue.'</span>)
0045 disp(<span class="string">' '</span>)
0046 pause;
0047 
0048 disp(<span class="string">'&gt;&gt; tree = add(tree,root(tree),''comment'',''This is the first entry of our Address Book'');'</span>);
0049 disp(<span class="string">'&gt;&gt; [tree, entry_uid] = add(tree,root(tree),''element'',''entry'');'</span>);
0050 disp(<span class="string">'&gt;&gt; tree = attributes(tree,''add'',entry_uid,''lastModified'',datestr(datenum(date),''dd-mmm-yyyy''));'</span>);
0051 tree = add(tree,root(tree),<span class="string">'comment'</span>,<span class="string">'This is the first entry of our Address Book'</span>);
0052 [tree, entry_uid] = add(tree,root(tree),<span class="string">'element'</span>,<span class="string">'entry'</span>);
0053 tree = attributes(tree,<span class="string">'add'</span>,entry_uid,<span class="string">'lastModified'</span>,datestr(datenum(date),<span class="string">'dd-mmm-yyyy'</span>));
0054 
0055 <span class="comment">% Here are the data for the new entry</span>
0056 entry = struct(<span class="string">'firstName'</span>,<span class="string">'Guillaume'</span>,<span class="keyword">...</span>
0057                <span class="string">'lastName'</span>,<span class="string">'Flandin'</span>,<span class="keyword">...</span>
0058                <span class="string">'address'</span>,struct(<span class="string">'institute'</span>,<span class="string">'INRIA Sophia Antipolis'</span>,<span class="keyword">...</span>
0059                                 <span class="string">'street'</span>,<span class="string">'2004 Route des Lucioles'</span>,<span class="keyword">...</span>
0060                                 <span class="string">'zipCode'</span>,<span class="string">'06902'</span>,<span class="keyword">...</span>
0061                                 <span class="string">'city'</span>,<span class="string">'Sophia Antipolis'</span>,<span class="keyword">...</span>
0062                                 <span class="string">'country'</span>,<span class="string">'France'</span>),<span class="keyword">...</span>
0063                <span class="string">'phone'</span>,<span class="string">'(+33) 4 92 38 71 52'</span>,<span class="keyword">...</span>
0064                <span class="string">'email'</span>,<span class="string">'Guillaume.Flandin@sophia.inria.fr'</span>);
0065 
0066 <span class="comment">% Fill in the fields with data</span>
0067 disp(<span class="string">' '</span>)
0068 disp(<span class="string">'Create and fill in the fields with data.'</span>)
0069 disp(<span class="string">' '</span>)
0070 disp(<span class="string">'Press any key to continue.'</span>)
0071 pause;
0072 entry
0073 
0074 <span class="comment">% Create the 'firstName' tag</span>
0075 [tree, uid] = add(tree,entry_uid,<span class="string">'element'</span>,<span class="string">'firstName'</span>);
0076 tree = add(tree,uid,<span class="string">'chardata'</span>,entry.firstName);
0077 
0078 <span class="comment">% Create the 'lastName' tag</span>
0079 [tree, uid] = add(tree,entry_uid,<span class="string">'element'</span>,<span class="string">'lastName'</span>);
0080 tree = add(tree,uid,<span class="string">'chardata'</span>,entry.lastName);
0081 
0082 <span class="comment">% Create the 'address' tag</span>
0083 [tree, address_uid] = add(tree,entry_uid,<span class="string">'element'</span>,<span class="string">'address'</span>);
0084 
0085     [tree, uid] = add(tree,address_uid,<span class="string">'element'</span>,<span class="string">'institute'</span>);
0086     tree = add(tree,uid,<span class="string">'chardata'</span>,entry.address.institute);
0087 
0088     [tree, uid] = add(tree,address_uid,<span class="string">'element'</span>,<span class="string">'street'</span>);
0089     tree = add(tree,uid,<span class="string">'chardata'</span>,entry.address.street);
0090 
0091     [tree, uid] = add(tree,address_uid,<span class="string">'element'</span>,<span class="string">'zipCode'</span>);
0092     tree = add(tree,uid,<span class="string">'chardata'</span>,entry.address.zipCode);
0093 
0094     [tree, uid] = add(tree,address_uid,<span class="string">'element'</span>,<span class="string">'city'</span>);
0095     tree = add(tree,uid,<span class="string">'chardata'</span>,entry.address.city);
0096 
0097     [tree, uid] = add(tree,address_uid,<span class="string">'element'</span>,<span class="string">'country'</span>);
0098     tree = add(tree,uid,<span class="string">'chardata'</span>,entry.address.country);
0099 
0100 <span class="comment">% Create the 'phone' tag</span>
0101 [tree, uid] = add(tree,entry_uid,<span class="string">'element'</span>,<span class="string">'phone'</span>);
0102 tree = add(tree,uid,<span class="string">'chardata'</span>,entry.phone);
0103 
0104 <span class="comment">% Create the 'email' tag</span>
0105 [tree, uid] = add(tree,entry_uid,<span class="string">'element'</span>,<span class="string">'email'</span>);
0106 tree = add(tree,uid,<span class="string">'chardata'</span>,entry.email);
0107 
0108 <span class="comment">% Graphical display and save</span>
0109 disp(<span class="string">'Graphical display.'</span>)
0110 disp(<span class="string">' '</span>)
0111 disp(<span class="string">'Press any key to display the xmltree.'</span>)
0112 disp(<span class="string">' '</span>)
0113 pause;
0114 
0115 disp(<span class="string">'&gt;&gt; view(tree);'</span>)
0116 view(tree);
0117 
0118 disp(<span class="string">' '</span>)
0119 disp(<span class="string">'Press any key to save the xmltree in example.xml.'</span>)
0120 disp(<span class="string">' '</span>)
0121 pause;
0122 
0123 disp(<span class="string">'&gt;&gt; save(tree,''example.xml'');'</span>)
0124 save(tree,<span class="string">'example.xml'</span>);
0125 disp([<span class="string">'Saved in:'</span> fullfile(pwd,<span class="string">'example.xml'</span>)]);
0126 
0127 disp(<span class="string">' '</span>);
0128 disp(<span class="string">'Press any key to end.'</span>)
0129 pause; clc; close all;</pre></div>
<hr><address>Generated on Fri 05-Apr-2013 15:19:47 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" title="Matlab Documentation in HTML">m2html</a></strong> &copy; 2005</address>
</body>
</html>